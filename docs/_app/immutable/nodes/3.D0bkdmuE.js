import{f as L,a as O,c as be}from"../chunks/B1nIyadl.js";import"../chunks/CFCqRDwc.js";import{o as xe}from"../chunks/BsysYmeu.js";import{h as ne,H as Ee,P as ee,j as H,J as ke,R as Se,z as c,a1 as Z,T as Ae,U as Ne,V as fe,O as ae,k as U,K as Ie,aG as Te,b as ye,i as ie,l as Me,aI as $,ag as ue,aE as he,aJ as Oe,aK as _e,d as pe,g as De,aL as ge,aM as Ce,aN as re,M as Re,aO as He,aP as Le,aD as ze,e as Ke,aq as oe,aQ as me,aj as qe,aR as Ge,p as Je,s as G,f as B,t as Y,a as Be,Z as P,aS as Pe,v as C,c as V,r as R,A as Ve}from"../chunks/CxXbesS7.js";import{e as J,s as se}from"../chunks/4DM3pWXo.js";import{p as We,i as ve}from"../chunks/mEz3baSS.js";import{i as Fe}from"../chunks/D7t0umHg.js";function Q(s,e){return e}function Ue(s,e,r){for(var a=[],l=e.length,f=0;f<l;f++)He(e[f].e,a,!0);Le(a,()=>{var t=a.length===0&&r!==null;if(t){var o=r,i=o.parentNode;ze(i),i.append(o),s.items.clear(),I(s,e[0].prev,e[l-1].next)}for(var p=0;p<l;p++){var u=e[p];t||(s.items.delete(u.k),I(s,u.prev,u.next)),Ke(u.e,!t)}s.first===e[0]&&(s.first=e[0].prev)})}function X(s,e,r,a,l,f=null){var t=s,o=new Map,i=null,p=(e&me)!==0,u=(e&ge)!==0,A=(e&_e)!==0;if(p){var g=s;t=H?ee(ke(g)):g.appendChild(ne())}H&&Se();var v=null,T=Z(()=>{var h=r();return Oe(h)?h:h==null?[]:he(h)}),E,n=!0;function _(){Ye(d,E,t,e,a),v!==null&&(E.length===0?(v.fragment?(t.before(v.fragment),v.fragment=null):pe(v.effect),z.first=v.effect):De(v.effect,()=>{v=null}))}var z=Ee(()=>{E=c(T);var h=E.length;let k=!1;if(H){var N=Ae(t)===Ne;N!==(h===0)&&(t=fe(),ee(t),ae(!1),k=!0)}for(var M=new Set,w=ye,b=null,S=Me(),m=0;m<h;m+=1){H&&U.nodeType===Ie&&U.data===Te&&(t=U,k=!0,ae(!1));var y=E[m],D=a(y,m),x=n?null:o.get(D);x?(u&&oe(x.v,y),A?oe(x.i,m):x.i=m,S&&w.skipped_effects.delete(x.e)):(x=Qe(n?t:null,b,y,D,m,l,e,r),n&&(x.o=!0,b===null?i=x:b.next=x,b=x),o.set(D,x)),M.add(D)}if(h===0&&f&&!v)if(n)v={fragment:null,effect:ie(()=>f(t))};else{var K=document.createDocumentFragment(),q=ne();K.append(q),v={fragment:K,effect:ie(()=>f(q))}}if(H&&h>0&&ee(fe()),!n)if(S){for(const[j,W]of o)M.has(j)||w.skipped_effects.add(W.e);w.oncommit(_),w.ondiscard(()=>{})}else _();k&&ae(!0),c(T)}),d={effect:z,items:o,first:i};n=!1,H&&(t=U)}function Ye(s,e,r,a,l){var f=(a&Ge)!==0,t=e.length,o=s.items,i=s.first,p,u=null,A,g=[],v=[],T,E,n,_;if(f)for(_=0;_<t;_+=1)T=e[_],E=l(T,_),n=o.get(E),n.o&&(n.a?.measure(),(A??=new Set).add(n));for(_=0;_<t;_+=1){if(T=e[_],E=l(T,_),n=o.get(E),s.first??=n,!n.o){n.o=!0;var z=u?u.next:i;I(s,u,n),I(s,n,z),te(n,z,r),u=n,g=[],v=[],i=u.next;continue}if((n.e.f&re)!==0&&(pe(n.e),f&&(n.a?.unfix(),(A??=new Set).delete(n))),n!==i){if(p!==void 0&&p.has(n)){if(g.length<v.length){var d=v[0],h;u=d.prev;var k=g[0],N=g[g.length-1];for(h=0;h<g.length;h+=1)te(g[h],d,r);for(h=0;h<v.length;h+=1)p.delete(v[h]);I(s,k.prev,N.next),I(s,u,k),I(s,N,d),i=d,u=N,_-=1,g=[],v=[]}else p.delete(n),te(n,i,r),I(s,n.prev,n.next),I(s,n,u===null?s.first:u.next),I(s,u,n),u=n;continue}for(g=[],v=[];i!==null&&i.k!==E;)(i.e.f&re)===0&&(p??=new Set).add(i),v.push(i),i=i.next;if(i===null)continue;n=i}g.push(n),u=n,i=n.next}let M=o.size>t;if(i!==null||p!==void 0){for(var w=p===void 0?[]:he(p);i!==null;)(i.e.f&re)===0&&w.push(i),i=i.next;var b=w.length;if(M=o.size-b>t,b>0){var S=(a&me)!==0&&t===0?r:null;if(f){for(_=0;_<b;_+=1)w[_].a?.measure();for(_=0;_<b;_+=1)w[_].a?.fix()}Ue(s,w,S)}}if(M)for(const m of o.values())m.o||(I(s,u,m),u=m);s.effect.last=u&&u.e,f&&qe(()=>{if(A!==void 0)for(n of A)n.a?.apply()})}function Qe(s,e,r,a,l,f,t,o){var i=(t&ge)!==0,p=(t&Ce)===0,u=i?p?$(r,!1,!1):ue(r):r,A=(t&_e)===0?l:ue(l),g={i:A,v:u,k:a,a:null,e:null,o:!1,prev:e,next:null};try{if(s===null){var v=document.createDocumentFragment();v.append(s=ne())}return g.e=ie(()=>f(s,u,A,o)),e!==null&&(e.next=g),g}finally{}}function te(s,e,r){for(var a=s.next?s.next.e.nodes_start:r,l=e?e.e.nodes_start:r,f=s.e.nodes_start;f!==null&&f!==a;){var t=Re(f);l.before(f),f=t}}function I(s,e,r){e===null?(s.first=r,s.effect.first=r&&r.e):(e.e.next&&(e.e.next.prev=null),e.next=r,e.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=e,r.e.prev=e&&e.e)}const ce=[...` 	
\r\fÂ \v\uFEFF`];function Xe(s,e,r){var a=s==null?"":""+s;if(e&&(a=a?a+" "+e:e),r){for(var l in r)if(r[l])a=a?a+" "+l:l;else if(a.length)for(var f=l.length,t=0;(t=a.indexOf(l,t))>=0;){var o=t+f;(t===0||ce.includes(a[t-1]))&&(o===a.length||ce.includes(a[o]))?a=(t===0?"":a.substring(0,t))+a.substring(o+1):t=o}}return a===""?null:a}function de(s,e,r,a,l,f){var t=s.__className;if(H||t!==r||t===void 0){var o=Xe(r,a,f);(!H||o!==s.getAttribute("class"))&&(o==null?s.removeAttribute("class"):s.className=o),s.__className=r}else if(f&&l!==f)for(var i in f){var p=!!f[i];(l==null||p!==!!l[i])&&s.classList.toggle(i,p)}return f}class le{answer;guesses;answers;constructor(e){if(e){const r=JSON.parse(e);this.answer=r.answer,this.guesses=r.guesses,this.answers=r.answers}else this.answer=this.randomWord(),this.guesses=Array(6).fill(""),this.answers=[]}randomWord(){const e=["apple","chair","sugar","spoon","table","drink","house"];return e[Math.floor(Math.random()*e.length)]}toString(){return JSON.stringify({answer:this.answer,guesses:this.guesses,answers:this.answers})}updateKey(e){const r=this.answers.length;e==="backspace"?this.guesses[r]=this.guesses[r].slice(0,-1):this.guesses[r].length<5&&(this.guesses[r]+=e)}enterGuess(){const e=this.answers.length,r=this.guesses[e];if(r.length!==5)return!1;let a=[];for(let l=0;l<5;l++)r[l]===this.answer[l]?a.push("x"):this.answer.includes(r[l])?a.push("c"):a.push("_");return this.answers.push(a.join("")),!0}restart(){return localStorage.removeItem("sverdle"),new le(null)}}const Ze=!1,$e=!0,je=()=>{const s=localStorage.getItem("sverdle");return{game:new le(s)}},_a=Object.freeze(Object.defineProperty({__proto__:null,load:je,prerender:$e,ssr:Ze},Symbol.toStringTag,{value:"Module"}));var ea=L("<div> </div>"),aa=L('<div class="row svelte-115oxdy"></div>'),ra=L("<p>ðŸŽ‰ Du hast gewonnen!</p> <button>Neu starten</button>",1),sa=L("<p> </p> <button>Neu starten</button>",1),ta=L("<button> </button>"),na=L('<div class="row svelte-115oxdy"></div>'),ia=L('<button>Enter</button> <div class="keyboard"><!> <button>Back</button></div>',1),la=L('<h1>Sverdle (Client-Side)</h1> <div></div> <div class="controls svelte-115oxdy"><!></div>',1);function pa(s,e){Je(e,!1);let r=We(e,"data",8),a=$(),l=$(!1),f=$(!1);xe(()=>{P(a,r().game),t()});function t(){const d=c(a).answers.length;c(a).guesses[d],P(f,c(a).answers.at(-1)==="xxxxx")}function o(d){c(f)||(c(a).updateKey(d),u(),t())}function i(){if(!c(a).enterGuess()){P(l,!0);return}P(l,!1),u(),t()}function p(){P(a,c(a).restart()),u(),t()}function u(){localStorage.setItem("sverdle",c(a).toString())}function A(d){d.key==="Enter"&&i(),d.key==="Backspace"&&o("backspace"),/^[a-z]$/.test(d.key)&&o(d.key)}Fe();var g=la();J("keydown",Pe,A);var v=G(B(g),2);let T;X(v,4,()=>C(()=>Array.from({length:6})),Q,(d,h,k)=>{var N=aa();X(N,4,()=>C(()=>Array.from({length:5})),Q,(M,w,b,S)=>{const m=Z(()=>(c(a),C(()=>c(a).guesses[k]))),y=Z(()=>(Ve(c(m)),C(()=>c(m)?.[b]??""))),D=Z(()=>(c(a),C(()=>c(a).answers[k]?.[b])));var x=ea(),K=V(x,!0);R(x),Y(()=>{de(x,1,`cell ${c(D)??""}`,"svelte-115oxdy"),se(K,c(y))}),O(M,x)}),R(N),O(d,N)}),R(v);var E=G(v,2),n=V(E);{var _=d=>{var h=ra(),k=G(B(h),2);J("click",k,p),O(d,h)},z=d=>{var h=be(),k=B(h);{var N=w=>{var b=sa(),S=B(b),m=V(S);R(S);var y=G(S,2);Y(()=>se(m,`Spiel vorbei! LÃ¶sung: ${c(a),C(()=>c(a).answer)??""}`)),J("click",y,p),O(w,b)},M=w=>{var b=ia(),S=B(b),m=G(S,2),y=V(m);X(y,0,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],Q,(x,K)=>{var q=na();X(q,5,()=>C(()=>K.split("")),Q,(j,W)=>{var F=ta(),we=V(F,!0);R(F),Y(()=>se(we,c(W))),J("click",F,()=>o(c(W))),O(j,F)}),R(q),O(x,q)});var D=G(y,2);R(m),J("click",S,i),J("click",D,()=>o("backspace")),O(w,b)};ve(k,w=>{c(a),C(()=>c(a).answers.length>=6)?w(N):w(M,!1)},!0)}O(d,h)};ve(n,d=>{c(f)?d(_):d(z,!1)})}R(E),Y(()=>T=de(v,1,"grid svelte-115oxdy",null,T,{bad:c(l)})),O(s,g),Be()}export{pa as component,_a as universal};
