import{f as L,a as M,c as be}from"../chunks/Dk_gfYcV.js";import"../chunks/Dlqh6RMp.js";import{o as xe}from"../chunks/AeY2dUfz.js";import{i as ne,E as Ee,K as ee,k as H,F as ke,Q as Se,B as c,a0 as $,S as Ae,T as Ne,U as fe,J as ae,l as Q,G as Ie,aG as Te,b as ye,j as ie,o as De,aI as Z,ag as ue,aE as he,aJ as Me,aK as _e,d as pe,h as Oe,aL as ge,aM as Ce,aN as re,I as Re,aO as He,aP as Le,aD as Ge,g as Ke,aq as oe,aQ as me,aj as qe,aR as ze,p as Be,s as z,f as J,t as U,a as Je,Y as F,aS as Fe,x as C,c as W,r as R,C as We}from"../chunks/PhNxKdt0.js";import{e as B,s as se}from"../chunks/CN0pI4Xg.js";import{p as Ye,i as ve}from"../chunks/BQeJI5uJ.js";import{i as Pe}from"../chunks/BlXcxMyh.js";function V(s,e){return e}function Qe(s,e,r){for(var a=[],l=e.length,f=0;f<l;f++)He(e[f].e,a,!0);Le(a,()=>{var t=a.length===0&&r!==null;if(t){var o=r,i=o.parentNode;Ge(i),i.append(o),s.items.clear(),I(s,e[0].prev,e[l-1].next)}for(var p=0;p<l;p++){var u=e[p];t||(s.items.delete(u.k),I(s,u.prev,u.next)),Ke(u.e,!t)}s.first===e[0]&&(s.first=e[0].prev)})}function X(s,e,r,a,l,f=null){var t=s,o=new Map,i=null,p=(e&me)!==0,u=(e&ge)!==0,A=(e&_e)!==0;if(p){var g=s;t=H?ee(ke(g)):g.appendChild(ne())}H&&Se();var v=null,T=$(()=>{var h=r();return Me(h)?h:h==null?[]:he(h)}),E,n=!0;function _(){Ue(d,E,t,e,a),v!==null&&(E.length===0?(v.fragment?(t.before(v.fragment),v.fragment=null):pe(v.effect),G.first=v.effect):Oe(v.effect,()=>{v=null}))}var G=Ee(()=>{E=c(T);var h=E.length;let k=!1;if(H){var N=Ae(t)===Ne;N!==(h===0)&&(t=fe(),ee(t),ae(!1),k=!0)}for(var D=new Set,w=ye,b=null,S=De(),m=0;m<h;m+=1){H&&Q.nodeType===Ie&&Q.data===Te&&(t=Q,k=!0,ae(!1));var y=E[m],O=a(y,m),x=n?null:o.get(O);x?(u&&oe(x.v,y),A?oe(x.i,m):x.i=m,S&&w.skipped_effects.delete(x.e)):(x=Ve(n?t:null,b,y,O,m,l,e,r),n&&(x.o=!0,b===null?i=x:b.next=x,b=x),o.set(O,x)),D.add(O)}if(h===0&&f&&!v)if(n)v={fragment:null,effect:ie(()=>f(t))};else{var K=document.createDocumentFragment(),q=ne();K.append(q),v={fragment:K,effect:ie(()=>f(q))}}if(H&&h>0&&ee(fe()),!n)if(S){for(const[j,Y]of o)D.has(j)||w.skipped_effects.add(Y.e);w.oncommit(_),w.ondiscard(()=>{})}else _();k&&ae(!0),c(T)}),d={effect:G,items:o,first:i};n=!1,H&&(t=Q)}function Ue(s,e,r,a,l){var f=(a&ze)!==0,t=e.length,o=s.items,i=s.first,p,u=null,A,g=[],v=[],T,E,n,_;if(f)for(_=0;_<t;_+=1)T=e[_],E=l(T,_),n=o.get(E),n.o&&(n.a?.measure(),(A??=new Set).add(n));for(_=0;_<t;_+=1){if(T=e[_],E=l(T,_),n=o.get(E),s.first??=n,!n.o){n.o=!0;var G=u?u.next:i;I(s,u,n),I(s,n,G),te(n,G,r),u=n,g=[],v=[],i=u.next;continue}if((n.e.f&re)!==0&&(pe(n.e),f&&(n.a?.unfix(),(A??=new Set).delete(n))),n!==i){if(p!==void 0&&p.has(n)){if(g.length<v.length){var d=v[0],h;u=d.prev;var k=g[0],N=g[g.length-1];for(h=0;h<g.length;h+=1)te(g[h],d,r);for(h=0;h<v.length;h+=1)p.delete(v[h]);I(s,k.prev,N.next),I(s,u,k),I(s,N,d),i=d,u=N,_-=1,g=[],v=[]}else p.delete(n),te(n,i,r),I(s,n.prev,n.next),I(s,n,u===null?s.first:u.next),I(s,u,n),u=n;continue}for(g=[],v=[];i!==null&&i.k!==E;)(i.e.f&re)===0&&(p??=new Set).add(i),v.push(i),i=i.next;if(i===null)continue;n=i}g.push(n),u=n,i=n.next}let D=o.size>t;if(i!==null||p!==void 0){for(var w=p===void 0?[]:he(p);i!==null;)(i.e.f&re)===0&&w.push(i),i=i.next;var b=w.length;if(D=o.size-b>t,b>0){var S=(a&me)!==0&&t===0?r:null;if(f){for(_=0;_<b;_+=1)w[_].a?.measure();for(_=0;_<b;_+=1)w[_].a?.fix()}Qe(s,w,S)}}if(D)for(const m of o.values())m.o||(I(s,u,m),u=m);s.effect.last=u&&u.e,f&&qe(()=>{if(A!==void 0)for(n of A)n.a?.apply()})}function Ve(s,e,r,a,l,f,t,o){var i=(t&ge)!==0,p=(t&Ce)===0,u=i?p?Z(r,!1,!1):ue(r):r,A=(t&_e)===0?l:ue(l),g={i:A,v:u,k:a,a:null,e:null,o:!1,prev:e,next:null};try{if(s===null){var v=document.createDocumentFragment();v.append(s=ne())}return g.e=ie(()=>f(s,u,A,o)),e!==null&&(e.next=g),g}finally{}}function te(s,e,r){for(var a=s.next?s.next.e.nodes_start:r,l=e?e.e.nodes_start:r,f=s.e.nodes_start;f!==null&&f!==a;){var t=Re(f);l.before(f),f=t}}function I(s,e,r){e===null?(s.first=r,s.effect.first=r&&r.e):(e.e.next&&(e.e.next.prev=null),e.next=r,e.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=e,r.e.prev=e&&e.e)}const ce=[...` 	
\r\fÂ \v\uFEFF`];function Xe(s,e,r){var a=s==null?"":""+s;if(e&&(a=a?a+" "+e:e),r){for(var l in r)if(r[l])a=a?a+" "+l:l;else if(a.length)for(var f=l.length,t=0;(t=a.indexOf(l,t))>=0;){var o=t+f;(t===0||ce.includes(a[t-1]))&&(o===a.length||ce.includes(a[o]))?a=(t===0?"":a.substring(0,t))+a.substring(o+1):t=o}}return a===""?null:a}function de(s,e,r,a,l,f){var t=s.__className;if(H||t!==r||t===void 0){var o=Xe(r,a,f);(!H||o!==s.getAttribute("class"))&&(o==null?s.removeAttribute("class"):s.className=o),s.__className=r}else if(f&&l!==f)for(var i in f){var p=!!f[i];(l==null||p!==!!l[i])&&s.classList.toggle(i,p)}return f}class le{answer;guesses;answers;constructor(e){if(e){const r=JSON.parse(e);this.answer=r.answer,this.guesses=r.guesses,this.answers=r.answers}else this.answer=this.randomWord(),this.guesses=Array(6).fill(""),this.answers=[]}randomWord(){const e=["apple","chair","sugar","spoon","table","drink","house"];return e[Math.floor(Math.random()*e.length)]}toString(){return JSON.stringify({answer:this.answer,guesses:this.guesses,answers:this.answers})}updateKey(e){const r=this.answers.length;e==="backspace"?this.guesses[r]=this.guesses[r].slice(0,-1):this.guesses[r].length<5&&(this.guesses[r]+=e)}enterGuess(){const e=this.answers.length,r=this.guesses[e];if(r.length!==5)return!1;let a=[];for(let l=0;l<5;l++)r[l]===this.answer[l]?a.push("x"):this.answer.includes(r[l])?a.push("c"):a.push("_");return this.answers.push(a.join("")),!0}restart(){return localStorage.removeItem("sverdle"),new le(null)}}const $e=!1,Ze=!0,je=()=>{const s=localStorage.getItem("sverdle");return{game:new le(s)}},_a=Object.freeze(Object.defineProperty({__proto__:null,load:je,prerender:Ze,ssr:$e},Symbol.toStringTag,{value:"Module"}));var ea=L("<div> </div>"),aa=L('<div class="row svelte-115oxdy"></div>'),ra=L("<p>ðŸŽ‰ Du hast gewonnen!</p> <button>Neu starten</button>",1),sa=L("<p> </p> <button>Neu starten</button>",1),ta=L("<button> </button>"),na=L('<div class="row svelte-115oxdy"></div>'),ia=L('<button>Enter</button> <div class="keyboard"><!> <button>Back</button></div>',1),la=L('<h1>Sverdle (Client-Side)</h1> <div></div> <div class="controls svelte-115oxdy"><!></div>',1);function pa(s,e){Be(e,!1);let r=Ye(e,"data",8),a=Z(),l=Z(!1),f=Z(!1);xe(()=>{F(a,r().game),t()});function t(){const d=c(a).answers.length;c(a).guesses[d],F(f,c(a).answers.at(-1)==="xxxxx")}function o(d){c(f)||(c(a).updateKey(d),u(),t())}function i(){if(!c(a).enterGuess()){F(l,!0);return}F(l,!1),u(),t()}function p(){F(a,c(a).restart()),u(),t()}function u(){localStorage.setItem("sverdle",c(a).toString())}function A(d){d.key==="Enter"&&i(),d.key==="Backspace"&&o("backspace"),/^[a-z]$/.test(d.key)&&o(d.key)}Pe();var g=la();B("keydown",Fe,A);var v=z(J(g),2);let T;X(v,4,()=>C(()=>Array.from({length:6})),V,(d,h,k)=>{var N=aa();X(N,4,()=>C(()=>Array.from({length:5})),V,(D,w,b,S)=>{const m=$(()=>(c(a),C(()=>c(a).guesses[k]))),y=$(()=>(We(c(m)),C(()=>c(m)?.[b]??""))),O=$(()=>(c(a),C(()=>c(a).answers[k]?.[b])));var x=ea(),K=W(x,!0);R(x),U(()=>{de(x,1,`cell ${c(O)??""}`,"svelte-115oxdy"),se(K,c(y))}),M(D,x)}),R(N),M(d,N)}),R(v);var E=z(v,2),n=W(E);{var _=d=>{var h=ra(),k=z(J(h),2);B("click",k,p),M(d,h)},G=d=>{var h=be(),k=J(h);{var N=w=>{var b=sa(),S=J(b),m=W(S);R(S);var y=z(S,2);U(()=>se(m,`Spiel vorbei! LÃ¶sung: ${c(a),C(()=>c(a).answer)??""}`)),B("click",y,p),M(w,b)},D=w=>{var b=ia(),S=J(b),m=z(S,2),y=W(m);X(y,0,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],V,(x,K)=>{var q=na();X(q,5,()=>C(()=>K.split("")),V,(j,Y)=>{var P=ta(),we=W(P,!0);R(P),U(()=>se(we,c(Y))),B("click",P,()=>o(c(Y))),M(j,P)}),R(q),M(x,q)});var O=z(y,2);R(m),B("click",S,i),B("click",O,()=>o("backspace")),M(w,b)};ve(k,w=>{c(a),C(()=>c(a).answers.length>=6)?w(N):w(D,!1)},!0)}M(d,h)};ve(n,d=>{c(f)?d(_):d(G,!1)})}R(E),U(()=>T=de(v,1,"grid svelte-115oxdy",null,T,{bad:c(l)})),M(s,g),Je()}export{pa as component,_a as universal};
