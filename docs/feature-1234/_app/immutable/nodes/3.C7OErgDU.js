import{f as L,a as M,c as we}from"../chunks/Di4pliib.js";import"../chunks/22JCUEQl.js";import{o as be}from"../chunks/C2czO1E6.js";import{k as ne,E as ke,K as ee,h as H,F as xe,P as Ee,z as v,_ as $,R as Se,S as Ae,T as fe,J as ae,m as X,G as ye,aF as Ne,d as Ie,l as ie,o as Te,aH as Z,ae as oe,aD as de,aI as De,aJ as he,e as _e,j as Me,aK as pe,aL as Ce,aM as re,I as Oe,aN as Re,aO as He,aC as Le,i as ze,ao as ue,aP as ge,ah as Ke,aQ as Fe,p as Ge,s as G,f as q,t as Y,a as Je,X as B,aR as qe,w as O,c as P,r as R,A as Be}from"../chunks/BWCP8IsI.js";import{e as J,s as se}from"../chunks/B7t2kEMi.js";import{p as Pe,i as ve}from"../chunks/C0UgCbXk.js";import{t as We}from"../chunks/DLdlFW72.js";import{i as Ve}from"../chunks/Dz3hGVI2.js";function Q(a,e){return e}function Xe(a,e,r){for(var t=[],o=e.length,l=0;l<o;l++)Re(e[l].e,t,!0);He(t,()=>{var i=t.length===0&&r!==null;if(i){var h=r,n=h.parentNode;Le(n),n.append(h),a.items.clear(),N(a,e[0].prev,e[o-1].next)}for(var p=0;p<o;p++){var f=e[p];i||(a.items.delete(f.k),N(a,f.prev,f.next)),ze(f.e,!i)}a.first===e[0]&&(a.first=e[0].prev)})}function U(a,e,r,t,o,l=null){var i=a,h=new Map,n=null,p=(e&ge)!==0,f=(e&pe)!==0,A=(e&he)!==0;if(p){var g=a;i=H?ee(xe(g)):g.appendChild(ne())}H&&Ee();var u=null,I=$(()=>{var d=r();return De(d)?d:d==null?[]:de(d)}),x,s=!0;function _(){Ye(c,x,i,e,t),u!==null&&(x.length===0?(u.fragment?(i.before(u.fragment),u.fragment=null):_e(u.effect),z.first=u.effect):Me(u.effect,()=>{u=null}))}var z=ke(()=>{x=v(I);var d=x.length;let E=!1;if(H){var y=Se(i)===Ae;y!==(d===0)&&(i=fe(),ee(i),ae(!1),E=!0)}for(var D=new Set,w=Ie,b=null,S=Te(),m=0;m<d;m+=1){H&&X.nodeType===ye&&X.data===Ne&&(i=X,E=!0,ae(!1));var T=x[m],C=t(T,m),k=s?null:h.get(C);k?(f&&ue(k.v,T),A?ue(k.i,m):k.i=m,S&&w.skipped_effects.delete(k.e)):(k=Qe(s?i:null,b,T,C,m,o,e,r),s&&(k.o=!0,b===null?n=k:b.next=k,b=k),h.set(C,k)),D.add(C)}if(d===0&&l&&!u)if(s)u={fragment:null,effect:ie(()=>l(i))};else{var K=document.createDocumentFragment(),F=ne();K.append(F),u={fragment:K,effect:ie(()=>l(F))}}if(H&&d>0&&ee(fe()),!s)if(S){for(const[j,W]of h)D.has(j)||w.skipped_effects.add(W.e);w.oncommit(_),w.ondiscard(()=>{})}else _();E&&ae(!0),v(I)}),c={effect:z,items:h,first:n};s=!1,H&&(i=X)}function Ye(a,e,r,t,o){var l=(t&Fe)!==0,i=e.length,h=a.items,n=a.first,p,f=null,A,g=[],u=[],I,x,s,_;if(l)for(_=0;_<i;_+=1)I=e[_],x=o(I,_),s=h.get(x),s.o&&(s.a?.measure(),(A??=new Set).add(s));for(_=0;_<i;_+=1){if(I=e[_],x=o(I,_),s=h.get(x),a.first??=s,!s.o){s.o=!0;var z=f?f.next:n;N(a,f,s),N(a,s,z),te(s,z,r),f=s,g=[],u=[],n=f.next;continue}if((s.e.f&re)!==0&&(_e(s.e),l&&(s.a?.unfix(),(A??=new Set).delete(s))),s!==n){if(p!==void 0&&p.has(s)){if(g.length<u.length){var c=u[0],d;f=c.prev;var E=g[0],y=g[g.length-1];for(d=0;d<g.length;d+=1)te(g[d],c,r);for(d=0;d<u.length;d+=1)p.delete(u[d]);N(a,E.prev,y.next),N(a,f,E),N(a,y,c),n=c,f=y,_-=1,g=[],u=[]}else p.delete(s),te(s,n,r),N(a,s.prev,s.next),N(a,s,f===null?a.first:f.next),N(a,f,s),f=s;continue}for(g=[],u=[];n!==null&&n.k!==x;)(n.e.f&re)===0&&(p??=new Set).add(n),u.push(n),n=n.next;if(n===null)continue;s=n}g.push(s),f=s,n=s.next}let D=h.size>i;if(n!==null||p!==void 0){for(var w=p===void 0?[]:de(p);n!==null;)(n.e.f&re)===0&&w.push(n),n=n.next;var b=w.length;if(D=h.size-b>i,b>0){var S=(t&ge)!==0&&i===0?r:null;if(l){for(_=0;_<b;_+=1)w[_].a?.measure();for(_=0;_<b;_+=1)w[_].a?.fix()}Xe(a,w,S)}}if(D)for(const m of h.values())m.o||(N(a,f,m),f=m);a.effect.last=f&&f.e,l&&Ke(()=>{if(A!==void 0)for(s of A)s.a?.apply()})}function Qe(a,e,r,t,o,l,i,h){var n=(i&pe)!==0,p=(i&Ce)===0,f=n?p?Z(r,!1,!1):oe(r):r,A=(i&he)===0?o:oe(o),g={i:A,v:f,k:t,a:null,e:null,o:!1,prev:e,next:null};try{if(a===null){var u=document.createDocumentFragment();u.append(a=ne())}return g.e=ie(()=>l(a,f,A,h)),e!==null&&(e.next=g),g}finally{}}function te(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,o=e?e.e.nodes_start:r,l=a.e.nodes_start;l!==null&&l!==t;){var i=Oe(l);o.before(l),l=i}}function N(a,e,r){e===null?(a.first=r,a.effect.first=r&&r.e):(e.e.next&&(e.e.next.prev=null),e.next=r,e.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=e,r.e.prev=e&&e.e)}function ce(a,e,r,t,o,l){var i=a.__className;if(H||i!==r||i===void 0){var h=We(r,t,l);(!H||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=r}else if(l&&o!==l)for(var n in l){var p=!!l[n];(o==null||p!==!!o[n])&&a.classList.toggle(n,p)}return l}class le{answer;guesses;answers;constructor(e){if(e){const r=JSON.parse(e);this.answer=r.answer,this.guesses=r.guesses,this.answers=r.answers}else this.answer=this.randomWord(),this.guesses=Array(6).fill(""),this.answers=[]}randomWord(){const e=["apple","chair","sugar","spoon","table","drink","house"];return e[Math.floor(Math.random()*e.length)]}toString(){return JSON.stringify({answer:this.answer,guesses:this.guesses,answers:this.answers})}updateKey(e){const r=this.answers.length;e==="backspace"?this.guesses[r]=this.guesses[r].slice(0,-1):this.guesses[r].length<5&&(this.guesses[r]+=e)}enterGuess(){const e=this.answers.length,r=this.guesses[e];if(r.length!==5)return!1;let t=[];for(let o=0;o<5;o++)r[o]===this.answer[o]?t.push("x"):this.answer.includes(r[o])?t.push("c"):t.push("_");return this.answers.push(t.join("")),!0}restart(){return localStorage.removeItem("sverdle"),new le(null)}}const Ue=!1,$e=!0,Ze=()=>{const a=localStorage.getItem("sverdle");return{game:new le(a)}},_a=Object.freeze(Object.defineProperty({__proto__:null,load:Ze,prerender:$e,ssr:Ue},Symbol.toStringTag,{value:"Module"}));var je=L("<div> </div>"),ea=L('<div class="row svelte-115oxdy"></div>'),aa=L("<p>ðŸŽ‰ Du hast gewonnen!</p> <button>Neu starten</button>",1),ra=L("<p> </p> <button>Neu starten</button>",1),sa=L("<button> </button>"),ta=L('<div class="row svelte-115oxdy"></div>'),na=L('<button>Enter</button> <div class="keyboard"><!> <button>Back</button></div>',1),ia=L('<h1>Sverdle (Client-Side)</h1> <div></div> <div class="controls svelte-115oxdy"><!></div>',1);function pa(a,e){Ge(e,!1);let r=Pe(e,"data",8),t=Z(),o=Z(!1),l=Z(!1);be(()=>{B(t,r().game),i()});function i(){const c=v(t).answers.length;v(t).guesses[c],B(l,v(t).answers.at(-1)==="xxxxx")}function h(c){v(l)||(v(t).updateKey(c),f(),i())}function n(){if(!v(t).enterGuess()){B(o,!0);return}B(o,!1),f(),i()}function p(){B(t,v(t).restart()),f(),i()}function f(){localStorage.setItem("sverdle",v(t).toString())}function A(c){c.key==="Enter"&&n(),c.key==="Backspace"&&h("backspace"),/^[a-z]$/.test(c.key)&&h(c.key)}Ve();var g=ia();J("keydown",qe,A);var u=G(q(g),2);let I;U(u,4,()=>O(()=>Array.from({length:6})),Q,(c,d,E)=>{var y=ea();U(y,4,()=>O(()=>Array.from({length:5})),Q,(D,w,b,S)=>{const m=$(()=>(v(t),O(()=>v(t).guesses[E]))),T=$(()=>(Be(v(m)),O(()=>v(m)?.[b]??""))),C=$(()=>(v(t),O(()=>v(t).answers[E]?.[b])));var k=je(),K=P(k,!0);R(k),Y(()=>{ce(k,1,`cell ${v(C)??""}`,"svelte-115oxdy"),se(K,v(T))}),M(D,k)}),R(y),M(c,y)}),R(u);var x=G(u,2),s=P(x);{var _=c=>{var d=aa(),E=G(q(d),2);J("click",E,p),M(c,d)},z=c=>{var d=we(),E=q(d);{var y=w=>{var b=ra(),S=q(b),m=P(S);R(S);var T=G(S,2);Y(()=>se(m,`Spiel vorbei! LÃ¶sung: ${v(t),O(()=>v(t).answer)??""}`)),J("click",T,p),M(w,b)},D=w=>{var b=na(),S=q(b),m=G(S,2),T=P(m);U(T,0,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],Q,(k,K)=>{var F=ta();U(F,5,()=>O(()=>K.split("")),Q,(j,W)=>{var V=sa(),me=P(V,!0);R(V),Y(()=>se(me,v(W))),J("click",V,()=>h(v(W))),M(j,V)}),R(F),M(k,F)});var C=G(T,2);R(m),J("click",S,n),J("click",C,()=>h("backspace")),M(w,b)};ve(E,w=>{v(t),O(()=>v(t).answers.length>=6)?w(y):w(D,!1)},!0)}M(c,d)};ve(s,c=>{v(l)?c(_):c(z,!1)})}R(x),Y(()=>I=ce(u,1,"grid svelte-115oxdy",null,I,{bad:v(o)})),M(a,g),Je()}export{pa as component,_a as universal};
