import{f as L,a as D,c as we}from"../chunks/jRJ4MDRq.js";import"../chunks/OYiL1kRL.js";import{o as be}from"../chunks/B_XR0GD8.js";import{k as ne,F as ke,M as ee,h as H,G as xe,R as Ee,B as v,a1 as Z,T as Se,U as ye,V as fe,K as ae,m as U,I as Ae,aG as Ne,d as Ie,l as ie,o as Te,aI as $,ag as oe,aE as de,aJ as Me,aK as he,e as _e,j as De,aL as pe,aM as Ce,aN as re,J as Oe,aO as Re,aP as He,aD as Le,i as Ge,aq as ue,aQ as ge,aj as Ke,aR as qe,p as ze,s as z,f as J,t as Y,a as Be,Z as F,aS as Je,x as O,c as V,r as R,C as Fe}from"../chunks/CrPJvDTN.js";import{e as B,s as se}from"../chunks/CPlY2jFG.js";import{p as Ve,i as ve}from"../chunks/DmnSQxy0.js";import{t as We}from"../chunks/DLdlFW72.js";import{i as Pe}from"../chunks/BX4sySaT.js";function Q(a,e){return e}function Ue(a,e,r){for(var t=[],o=e.length,l=0;l<o;l++)Re(e[l].e,t,!0);He(t,()=>{var i=t.length===0&&r!==null;if(i){var h=r,n=h.parentNode;Le(n),n.append(h),a.items.clear(),N(a,e[0].prev,e[o-1].next)}for(var p=0;p<o;p++){var f=e[p];i||(a.items.delete(f.k),N(a,f.prev,f.next)),Ge(f.e,!i)}a.first===e[0]&&(a.first=e[0].prev)})}function X(a,e,r,t,o,l=null){var i=a,h=new Map,n=null,p=(e&ge)!==0,f=(e&pe)!==0,y=(e&he)!==0;if(p){var g=a;i=H?ee(xe(g)):g.appendChild(ne())}H&&Ee();var u=null,I=Z(()=>{var d=r();return Me(d)?d:d==null?[]:de(d)}),x,s=!0;function _(){Ye(c,x,i,e,t),u!==null&&(x.length===0?(u.fragment?(i.before(u.fragment),u.fragment=null):_e(u.effect),G.first=u.effect):De(u.effect,()=>{u=null}))}var G=ke(()=>{x=v(I);var d=x.length;let E=!1;if(H){var A=Se(i)===ye;A!==(d===0)&&(i=fe(),ee(i),ae(!1),E=!0)}for(var M=new Set,w=Ie,b=null,S=Te(),m=0;m<d;m+=1){H&&U.nodeType===Ae&&U.data===Ne&&(i=U,E=!0,ae(!1));var T=x[m],C=t(T,m),k=s?null:h.get(C);k?(f&&ue(k.v,T),y?ue(k.i,m):k.i=m,S&&w.skipped_effects.delete(k.e)):(k=Qe(s?i:null,b,T,C,m,o,e,r),s&&(k.o=!0,b===null?n=k:b.next=k,b=k),h.set(C,k)),M.add(C)}if(d===0&&l&&!u)if(s)u={fragment:null,effect:ie(()=>l(i))};else{var K=document.createDocumentFragment(),q=ne();K.append(q),u={fragment:K,effect:ie(()=>l(q))}}if(H&&d>0&&ee(fe()),!s)if(S){for(const[j,W]of h)M.has(j)||w.skipped_effects.add(W.e);w.oncommit(_),w.ondiscard(()=>{})}else _();E&&ae(!0),v(I)}),c={effect:G,items:h,first:n};s=!1,H&&(i=U)}function Ye(a,e,r,t,o){var l=(t&qe)!==0,i=e.length,h=a.items,n=a.first,p,f=null,y,g=[],u=[],I,x,s,_;if(l)for(_=0;_<i;_+=1)I=e[_],x=o(I,_),s=h.get(x),s.o&&(s.a?.measure(),(y??=new Set).add(s));for(_=0;_<i;_+=1){if(I=e[_],x=o(I,_),s=h.get(x),a.first??=s,!s.o){s.o=!0;var G=f?f.next:n;N(a,f,s),N(a,s,G),te(s,G,r),f=s,g=[],u=[],n=f.next;continue}if((s.e.f&re)!==0&&(_e(s.e),l&&(s.a?.unfix(),(y??=new Set).delete(s))),s!==n){if(p!==void 0&&p.has(s)){if(g.length<u.length){var c=u[0],d;f=c.prev;var E=g[0],A=g[g.length-1];for(d=0;d<g.length;d+=1)te(g[d],c,r);for(d=0;d<u.length;d+=1)p.delete(u[d]);N(a,E.prev,A.next),N(a,f,E),N(a,A,c),n=c,f=A,_-=1,g=[],u=[]}else p.delete(s),te(s,n,r),N(a,s.prev,s.next),N(a,s,f===null?a.first:f.next),N(a,f,s),f=s;continue}for(g=[],u=[];n!==null&&n.k!==x;)(n.e.f&re)===0&&(p??=new Set).add(n),u.push(n),n=n.next;if(n===null)continue;s=n}g.push(s),f=s,n=s.next}let M=h.size>i;if(n!==null||p!==void 0){for(var w=p===void 0?[]:de(p);n!==null;)(n.e.f&re)===0&&w.push(n),n=n.next;var b=w.length;if(M=h.size-b>i,b>0){var S=(t&ge)!==0&&i===0?r:null;if(l){for(_=0;_<b;_+=1)w[_].a?.measure();for(_=0;_<b;_+=1)w[_].a?.fix()}Ue(a,w,S)}}if(M)for(const m of h.values())m.o||(N(a,f,m),f=m);a.effect.last=f&&f.e,l&&Ke(()=>{if(y!==void 0)for(s of y)s.a?.apply()})}function Qe(a,e,r,t,o,l,i,h){var n=(i&pe)!==0,p=(i&Ce)===0,f=n?p?$(r,!1,!1):oe(r):r,y=(i&he)===0?o:oe(o),g={i:y,v:f,k:t,a:null,e:null,o:!1,prev:e,next:null};try{if(a===null){var u=document.createDocumentFragment();u.append(a=ne())}return g.e=ie(()=>l(a,f,y,h)),e!==null&&(e.next=g),g}finally{}}function te(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,o=e?e.e.nodes_start:r,l=a.e.nodes_start;l!==null&&l!==t;){var i=Oe(l);o.before(l),l=i}}function N(a,e,r){e===null?(a.first=r,a.effect.first=r&&r.e):(e.e.next&&(e.e.next.prev=null),e.next=r,e.e.next=r&&r.e),r!==null&&(r.e.prev&&(r.e.prev.next=null),r.prev=e,r.e.prev=e&&e.e)}function ce(a,e,r,t,o,l){var i=a.__className;if(H||i!==r||i===void 0){var h=We(r,t,l);(!H||h!==a.getAttribute("class"))&&(h==null?a.removeAttribute("class"):a.className=h),a.__className=r}else if(l&&o!==l)for(var n in l){var p=!!l[n];(o==null||p!==!!o[n])&&a.classList.toggle(n,p)}return l}class le{answer;guesses;answers;constructor(e){if(e){const r=JSON.parse(e);this.answer=r.answer,this.guesses=r.guesses,this.answers=r.answers}else this.answer=this.randomWord(),this.guesses=Array(6).fill(""),this.answers=[]}randomWord(){const e=["apple","chair","sugar","spoon","table","drink","house"];return e[Math.floor(Math.random()*e.length)]}toString(){return JSON.stringify({answer:this.answer,guesses:this.guesses,answers:this.answers})}updateKey(e){const r=this.answers.length;e==="backspace"?this.guesses[r]=this.guesses[r].slice(0,-1):this.guesses[r].length<5&&(this.guesses[r]+=e)}enterGuess(){const e=this.answers.length,r=this.guesses[e];if(r.length!==5)return!1;let t=[];for(let o=0;o<5;o++)r[o]===this.answer[o]?t.push("x"):this.answer.includes(r[o])?t.push("c"):t.push("_");return this.answers.push(t.join("")),!0}restart(){return localStorage.removeItem("sverdle"),new le(null)}}const Xe=!1,Ze=!0,$e=()=>{const a=localStorage.getItem("sverdle");return{game:new le(a)}},_a=Object.freeze(Object.defineProperty({__proto__:null,load:$e,prerender:Ze,ssr:Xe},Symbol.toStringTag,{value:"Module"}));var je=L("<div> </div>"),ea=L('<div class="row svelte-115oxdy"></div>'),aa=L("<p>ðŸŽ‰ Du hast gewonnen!</p> <button>Neu starten</button>",1),ra=L("<p> </p> <button>Neu starten</button>",1),sa=L("<button> </button>"),ta=L('<div class="row svelte-115oxdy"></div>'),na=L('<button>Enter</button> <div class="keyboard"><!> <button>Back</button></div>',1),ia=L('<h1>Sverdle (Client-Side)</h1> <div></div> <div class="controls svelte-115oxdy"><!></div>',1);function pa(a,e){ze(e,!1);let r=Ve(e,"data",8),t=$(),o=$(!1),l=$(!1);be(()=>{F(t,r().game),i()});function i(){const c=v(t).answers.length;v(t).guesses[c],F(l,v(t).answers.at(-1)==="xxxxx")}function h(c){v(l)||(v(t).updateKey(c),f(),i())}function n(){if(!v(t).enterGuess()){F(o,!0);return}F(o,!1),f(),i()}function p(){F(t,v(t).restart()),f(),i()}function f(){localStorage.setItem("sverdle",v(t).toString())}function y(c){c.key==="Enter"&&n(),c.key==="Backspace"&&h("backspace"),/^[a-z]$/.test(c.key)&&h(c.key)}Pe();var g=ia();B("keydown",Je,y);var u=z(J(g),2);let I;X(u,4,()=>O(()=>Array.from({length:6})),Q,(c,d,E)=>{var A=ea();X(A,4,()=>O(()=>Array.from({length:5})),Q,(M,w,b,S)=>{const m=Z(()=>(v(t),O(()=>v(t).guesses[E]))),T=Z(()=>(Fe(v(m)),O(()=>v(m)?.[b]??""))),C=Z(()=>(v(t),O(()=>v(t).answers[E]?.[b])));var k=je(),K=V(k,!0);R(k),Y(()=>{ce(k,1,`cell ${v(C)??""}`,"svelte-115oxdy"),se(K,v(T))}),D(M,k)}),R(A),D(c,A)}),R(u);var x=z(u,2),s=V(x);{var _=c=>{var d=aa(),E=z(J(d),2);B("click",E,p),D(c,d)},G=c=>{var d=we(),E=J(d);{var A=w=>{var b=ra(),S=J(b),m=V(S);R(S);var T=z(S,2);Y(()=>se(m,`Spiel vorbei! LÃ¶sung: ${v(t),O(()=>v(t).answer)??""}`)),B("click",T,p),D(w,b)},M=w=>{var b=na(),S=J(b),m=z(S,2),T=V(m);X(T,0,()=>["qwertyuiop","asdfghjkl","zxcvbnm"],Q,(k,K)=>{var q=ta();X(q,5,()=>O(()=>K.split("")),Q,(j,W)=>{var P=sa(),me=V(P,!0);R(P),Y(()=>se(me,v(W))),B("click",P,()=>h(v(W))),D(j,P)}),R(q),D(k,q)});var C=z(T,2);R(m),B("click",S,n),B("click",C,()=>h("backspace")),D(w,b)};ve(E,w=>{v(t),O(()=>v(t).answers.length>=6)?w(A):w(M,!1)},!0)}D(c,d)};ve(s,c=>{v(l)?c(_):c(G,!1)})}R(x),Y(()=>I=ce(u,1,"grid svelte-115oxdy",null,I,{bad:v(o)})),D(a,g),Be()}export{pa as component,_a as universal};
